<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>HVAC Master Class Â· Slides 1â€“10</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
  :root{
    --cyan:#16f2ff;
    --pink:#ff4dd8;
    --txt:#f8fbff;
    --muted:#9fb3ff;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:system-ui,-apple-system,Segoe UI,sans-serif;
    color:var(--txt);
    height:100vh;
    overflow:hidden;
    background:radial-gradient(circle at top left,#351b6d,#050014 45%);
    background-size:200% 200%;
    animation:bgMove 18s ease infinite;
  }
  @keyframes bgMove{0%,100%{background-position:0% 0%}50%{background-position:100% 100%}}

  #app{height:100vh;display:flex;justify-content:center;align-items:stretch;padding:14px}
  .deck{max-width:1100px;width:100%;height:100%;display:flex;flex-direction:column;gap:12px}

  .slideWrap{flex:1;min-height:0}

  .slide{
    height:100%;
    background:rgba(0,0,0,.55);
    backdrop-filter:blur(16px);
    border-radius:24px;
    padding:22px;
    box-shadow:0 0 40px rgba(22,242,255,.35);
    display:flex;
    flex-direction:column;
    gap:14px;
    animation:fade .35s ease;
    touch-action:pan-y;
  }
  @keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

  .header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}
  .section{font-size:.8rem;letter-spacing:.15em;color:var(--cyan);text-transform:uppercase}
  .title{font-size:2rem;font-weight:900;line-height:1.1}
  .icon{font-size:3rem;filter:drop-shadow(0 0 8px rgba(255,255,255,.65))}

  .content{
    display:grid;
    grid-template-columns:58% 42%;
    gap:16px;
    flex:1;
    min-height:0;
  }
  @media(max-width:800px){
    .title{font-size:1.6rem}
    .content{grid-template-columns:1fr;overflow:auto}
  }

  .bullets{list-style:none;display:flex;flex-direction:column;gap:8px}
  .bullets li{padding-left:18px;position:relative;line-height:1.35;font-size:1rem}
  .bullets li::before{content:"â–¹";position:absolute;left:0;color:var(--pink)}

  .visual{
    border:1px solid rgba(255,255,255,.18);
    border-radius:16px;
    padding:12px;
    background:rgba(255,255,255,.05);
    display:flex;
    flex-direction:column;
    gap:10px;
  }
  .visualMain{font-size:.95rem;color:var(--txt);font-weight:700}
  .visualHint{font-size:.85rem;color:var(--muted)}

  .media{display:flex;flex-direction:column;gap:10px}

  /* Primary image = larger */
  .imgPrimary{
    width:100%;
    border-radius:12px;
    background:#000;
    border:1px solid rgba(255,255,255,.18);
    overflow:hidden;
    cursor:zoom-in;
  }
  .imgPrimary img{
    width:100%;
    height:auto;
    max-height:340px;
    object-fit:contain;
    display:block;
    background:#000;
  }

  /* Secondary row for smaller media */
  .secondaryRow{
    display:flex;
    gap:10px;
    align-items:flex-start;
    flex-wrap:wrap;
  }

  .imgSmall{
    flex:1 1 180px;
    max-width:260px;
    border-radius:10px;
    background:#000;
    border:1px solid rgba(255,255,255,.18);
    overflow:hidden;
    cursor:zoom-in;
  }
  .imgSmall img{
    width:100%;
    height:auto;
    max-height:140px;
    object-fit:contain;
    display:block;
    background:#000;
  }

  .videoBox{
    flex:1 1 220px;
    min-width:220px;
    max-width:420px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,.18);
    background:rgba(0,0,0,.25);
    padding:8px;
  }
  video{width:100%;border-radius:8px;background:#000;max-height:160px}

  .vcontrols{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px;align-items:center}
  .vbtn{
    padding:5px 10px;border-radius:999px;border:none;
    background:linear-gradient(135deg,var(--cyan),var(--pink));
    color:#fff;font-size:.72rem;cursor:pointer;
  }
  .vbtn.alt{background:transparent;border:1px solid rgba(255,255,255,.6)}
  .vvol{margin-left:auto;display:flex;align-items:center;gap:6px}
  .vvol input{width:95px}

  /* footer fixed bottom, consistent placement */
  .footer{
    position:sticky;
    bottom:0;
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:10px 6px;
  }
  .navBtns{display:flex;gap:10px;align-items:center}
  .btn{
    padding:10px 16px;border-radius:999px;border:none;
    background:linear-gradient(135deg,var(--cyan),var(--pink));
    color:#fff;font-size:.9rem;cursor:pointer;
  }
  .btn.alt{background:transparent;border:1px solid rgba(255,255,255,.6)}
  .btn:disabled{opacity:.35;cursor:default}
  .count{color:var(--muted);font-variant-numeric:tabular-nums;font-size:.9rem}

  /* Dropdown (only shown on slide 1) */
  .jumpWrap{
    margin-top:10px;
    display:flex;
    gap:10px;
    align-items:center;
    flex-wrap:wrap;
  }
  .jumpLabel{
    font-size:.85rem;
    color:var(--muted);
    letter-spacing:.08em;
    text-transform:uppercase;
  }
  .jumpSelect{
    width:min(760px,100%);
    padding:10px 12px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.22);
    background:rgba(0,0,0,.35);
    color:var(--txt);
    outline:none;
    box-shadow:0 0 18px rgba(255,77,216,.25);
  }
  .jumpSelect:focus{
    border-color:rgba(22,242,255,.7);
    box-shadow:0 0 22px rgba(22,242,255,.35);
  }

  /* Lightbox */
  .lightbox{
    position:fixed;inset:0;background:rgba(0,0,0,.85);
    display:none;align-items:center;justify-content:center;
    z-index:9999;padding:16px;
  }
  .lightbox.open{display:flex}
  .lightboxInner{
    max-width:min(1100px,96vw);max-height:92vh;width:100%;
    border-radius:16px;border:1px solid rgba(255,255,255,.2);
    background:rgba(0,0,0,.35);backdrop-filter:blur(10px);
    padding:10px;position:relative;
  }
  .lightboxImg{
    width:100%;height:auto;max-height:86vh;object-fit:contain;
    display:block;border-radius:12px;background:#000;
  }
  .lightboxClose{
    position:absolute;top:10px;right:10px;border:none;border-radius:999px;
    padding:8px 12px;cursor:pointer;
    background:linear-gradient(135deg,var(--cyan),var(--pink));
    color:#fff;font-size:.85rem;
  }
</style>
</head>

<body>
  <div id="app">
    <div class="deck">
      <div class="slideWrap" id="slide"></div>

      <div class="footer">
        <div class="navBtns">
          <button id="prev" class="btn alt">â—€ Prev</button>
          <button id="next" class="btn">Next â–¶</button>
        </div>
        <div id="count" class="count"></div>
      </div>
    </div>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <div class="lightboxInner">
      <button id="lightboxClose" class="lightboxClose">Close âœ•</button>
      <img id="lightboxImg" class="lightboxImg" alt="Enlarged image" />
    </div>
  </div>

<script>
  /* ===== CONFIG ===== */
  const NEXT_DECK_URL = "https://summitair9.github.io/HVACTraining/index11-20.html";

  /* Mapping for dropdown navigation */
  const DECKS = [
    { min: 1,  max: 10, url: "https://summitair9.github.io/HVACTraining/" },
    { min: 11, max: 20, url: "https://summitair9.github.io/HVACTraining/index11-20.html" },
    { min: 21, max: 30, url: "https://summitair9.github.io/HVACTraining/index21-30.html" },
    { min: 31, max: 40, url: "https://summitair9.github.io/HVACTraining/index31-40.html" },
    { min: 41, max: 50, url: "https://summitair9.github.io/HVACTraining/index41-50.html" },
    { min: 51, max: 60, url: "https://summitair9.github.io/HVACTraining/index51-60.html" },
    { min: 61, max: 66, url: "https://summitair9.github.io/HVACTraining/index61-66.html" }
  ];

  /* Full list (1â€“66) for dropdown */
  const ALL_SLIDES = [
    {n:1,t:"What HVAC Means"},
    {n:2,t:"Heat Transfer Basics"},
    {n:3,t:"Pressure & Temperature"},
    {n:4,t:"States of Matter"},
    {n:5,t:"Energy & Work"},
    {n:6,t:"Indoor Air Quality"},
    {n:7,t:"Psychrometrics"},
    {n:8,t:"Ductwork Basics"},
    {n:9,t:"Static Pressure"},
    {n:10,t:"CFM Basics"},
    {n:11,t:"Measuring Tools"},
    {n:12,t:"Systematic Troubleshooting"},
    {n:13,t:"Temperature Measurement"},
    {n:14,t:"Meters & Gauges"},
    {n:15,t:"Manifolds & Probes"},
    {n:16,t:"Ohmâ€™s Law"},
    {n:17,t:"Series vs Parallel"},
    {n:18,t:"Single vs Three Phase"},
    {n:19,t:"Motors"},
    {n:20,t:"Capacitors & Relays"},
    {n:21,t:"Transformers (24V Control Power)"},
    {n:22,t:"Thermostat Signals (R, Y, G, W, O/B)"},
    {n:23,t:"Safeties & Switches"},
    {n:24,t:"Wiring Diagrams (How to Read Them)"},
    {n:25,t:"Contactors & Control Relays"},
    {n:26,t:"The Refrigeration Cycle Overview"},
    {n:27,t:"Evaporator (Where Cooling Happens)"},
    {n:28,t:"Compressor (The Pump)"},
    {n:29,t:"Condenser (Where Heat Leaves)"},
    {n:30,t:"Metering Devices (TXV, Fixed Orifice, EEV)"},
    {n:31,t:"Superheat (What It Means)"},
    {n:32,t:"Subcooling (What It Means)"},
    {n:33,t:"Saturation Temperature"},
    {n:34,t:"Charging Basics (TXV vs Fixed Orifice)"},
    {n:35,t:"Common Pressure Patterns"},
    {n:36,t:"Evaporator Airflow Problems"},
    {n:37,t:"Condenser Airflow Problems"},
    {n:38,t:"Coil Cleaning & Heat Transfer"},
    {n:39,t:"Air Filters & Restrictions"},
    {n:40,t:"Temperature Split (Î”T) Done Right"},
    {n:41,t:"Blower Setup (Speed Taps / ECM Profiles)"},
    {n:42,t:"Duct Sizing Basics (Friction & Velocity)"},
    {n:43,t:"Balancing Airflow (Supply vs Return)"},
    {n:44,t:"Gas Heat Basics (Sequence of Operation)"},
    {n:45,t:"Electric Heat Basics (Heat Strips)"},
    {n:46,t:"Heat Pumps (Reversing Valve & Defrost)"},
    {n:47,t:"Condensate Drain Basics"},
    {n:48,t:"Float Switches & Overflow Protection"},
    {n:49,t:"Restrictions vs Undercharge"},
    {n:50,t:"Non-Condensables & Overcharge"},
    {n:51,t:"Moisture, Acids, and Contamination"},
    {n:52,t:"Evacuation & Microns (Done Right)"},
    {n:53,t:"Recovery Basics"},
    {n:54,t:"Startup Checklist"},
    {n:55,t:"Refrigerant Piping Basics"},
    {n:56,t:"Brazing & Nitrogen Purge"},
    {n:57,t:"Leak Checking (Soap, Electronic, Pressure Test)"},
    {n:58,t:"Service Communication"},
    {n:59,t:"Maintenance Plans & Value"},
    {n:60,t:"Putting It All Together (The Diagnostic Flow)"},
    {n:61,t:"Real-World Call: No Cooling (Fast Flow)"},
    {n:62,t:"Real-World Call: No Heat (Sequence First)"},
    {n:63,t:"Common Mistakes (Avoid These)"},
    {n:64,t:"Pro-Level Habits (Be the Tech Everyone Wants)"},
    {n:65,t:"Mini Review (Core Concepts)"},
    {n:66,t:"Final: Your Field Playbook"}
  ];

  /* ===== SLIDE DATA (1â€“10) =====
     Primary image: imagessection1-1.png
     Optional 2nd image: imagessection1-1b.png
     Optional video: videossection1-1.mp4
  */
  const slides = [
    { n:1, s:"Section 1 Â· Foundation", t:"What HVAC Means", i:"ðŸ”¥â„ï¸",
      b:["HVAC = Heating, Ventilation, Air Conditioning","Comfort, air quality, and safety","Used in residential & commercial"],
      visualMain:"HVAC = building life support.",
      visualHint:"Comfort across seasons.",
      img1:"imagessection1-1.png", img2:"imagessection1-1b.png", vid:""
    },
    { n:2, s:"Section 1 Â· Foundation", t:"Heat Transfer Basics", i:"â™¨ï¸",
      b:["Heat flows hot â†’ cold","Conduction, convection, radiation","HVAC moves heat"],
      visualMain:"All HVAC is controlled heat transfer.",
      visualHint:"Show arrows of heat movement.",
      img1:"imagessection1-2.png", img2:"imagessection1-2b.png", vid:""
    },
    { n:3, s:"Section 1 Â· Foundation", t:"Pressure & Temperature", i:"ðŸ“ˆ",
      b:["Pressure affects boiling point","High pressure = higher saturation temp","Core HVAC principle"],
      visualMain:"Pressure and temperature are linked.",
      visualHint:"Compress hot â†’ expand cold.",
      img1:"imagessection1-3.png", img2:"imagessection1-3b.png", vid:""
    },
    { n:4, s:"Section 1 Â· Foundation", t:"States of Matter", i:"ðŸ’§ðŸ’¨",
      b:["Solid, liquid, vapor","Evap absorbs heat","Condense releases heat"],
      visualMain:"Refrigerant changes state to move heat.",
      visualHint:"Boil in evap, condense in condenser.",
      img1:"imagessection1-4.png", img2:"imagessection1-4b.png", vid:""
    },
    { n:5, s:"Section 1 Â· Foundation", t:"Energy & Work", i:"âš¡",
      b:["BTU = heat energy","1 ton = 12,000 BTU/hr","Watts power the work"],
      visualMain:"BTUs moved vs watts used.",
      visualHint:"Load vs energy input.",
      img1:"imagessection1-5.png", img2:"imagessection1-5b.png", vid:""
    },
    { n:6, s:"Section 2 Â· Air & Comfort", t:"Indoor Air Quality", i:"ðŸ˜®â€ðŸ’¨",
      b:["Filtration, ventilation, humidity","Clean air = healthy air","RH target 40â€“60%"],
      visualMain:"Comfort includes air quality.",
      visualHint:"Filter + fresh air + humidity.",
      img1:"imagessection1-6.png", img2:"imagessection1-6b.png", vid:""
    },
    { n:7, s:"Section 2 Â· Air & Comfort", t:"Psychrometrics", i:"ðŸ“Š",
      b:["Dry bulb vs wet bulb","Humidity affects comfort","Latent vs sensible"],
      visualMain:"Air + moisture together.",
      visualHint:"Comfort zone on a simple psych chart.",
      img1:"imagessection1-7.png", img2:"imagessection1-7b.png", vid:""
    },
    { n:8, s:"Section 2 Â· Air & Comfort", t:"Ductwork Basics", i:"ðŸŒ€",
      b:["Supply feeds rooms","Return brings air back","Leaks waste energy"],
      visualMain:"Ducts are air highways.",
      visualHint:"Supply vs return path.",
      img1:"imagessection1-8.png", img2:"imagessection1-8b.png", vid:""
    },
    { n:9, s:"Section 2 Â· Air & Comfort", t:"Static Pressure", i:"ðŸŒ¬ï¸",
      b:["Resistance to airflow","High static kills airflow","Dirty filters raise static"],
      visualMain:"Static is the fanâ€™s fight.",
      visualHint:"Restriction = lower airflow.",
      img1:"imagessection1-9.png", img2:"imagessection1-9b.png", vid:""
    },
    { n:10, s:"Section 2 Â· Air & Comfort", t:"CFM Basics", i:"ðŸ“",
      b:["CFM = airflow","~400 CFM per ton (rule of thumb)","Measure, donâ€™t guess"],
      visualMain:"Airflow sets performance.",
      visualHint:"CFM target per ton example.",
      img1:"imagessection1-10.png", img2:"imagessection1-10b.png", vid:""
    }
  ];

  let idx = 0;

  const slideEl = document.getElementById("slide");
  const countEl = document.getElementById("count");
  const prevBtn = document.getElementById("prev");
  const nextBtn = document.getElementById("next");

  // Lightbox
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightboxImg");
  const lightboxClose = document.getElementById("lightboxClose");

  function isEmpty(url){ return !url || url.trim() === ""; }

  function buildJumpDropdown(selectedN){
    const opts = ALL_SLIDES.map(s => {
      const label = `${String(s.n).padStart(2,"0")}. ${s.t}`;
      const sel = (s.n === selectedN) ? "selected" : "";
      return `<option value="${s.n}" ${sel}>${label}</option>`;
    }).join("");

    return `
      <div class="jumpWrap">
        <div class="jumpLabel">Jump to any slide</div>
        <select id="jumpSelect" class="jumpSelect">
          ${opts}
        </select>
      </div>
    `;
  }

  function deckUrlFor(n){
    for(const d of DECKS){
      if(n >= d.min && n <= d.max) return d.url;
    }
    return "https://summitair9.github.io/HVACTraining/";
  }

  function goToSlideNumber(n){
    if(n >= 1 && n <= 10){
      idx = n - 1;
      render();
      return;
    }
    const url = deckUrlFor(n);
    // Pass start=n (safe even if other pages donâ€™t use it yet)
    const joiner = url.includes("?") ? "&" : "?";
    window.location.href = `${url}${joiner}start=${encodeURIComponent(n)}`;
  }

  function render(){
    const s = slides[idx];

    // Dropdown only on slide 1
    const jumpUI = (idx === 0) ? buildJumpDropdown(s.n) : "";

    slideEl.innerHTML = `
      <div class="slide" id="slideInner">
        <div class="header">
          <div>
            <div class="section">${s.s}</div>
            <div class="title">${s.n}. ${s.t}</div>
            ${jumpUI}
          </div>
          <div class="icon">${s.i}</div>
        </div>

        <div class="content">
          <ul class="bullets">
            ${s.b.map(x=>`<li>${x}</li>`).join("")}
          </ul>

          <div class="visual">
            <div class="visualMain">${s.visualMain}</div>
            <div class="visualHint">${s.visualHint}</div>

            <div class="media">
              <div class="imgPrimary" data-zoom="${s.img1}">
                <img src="${s.img1}" alt="Slide image ${s.n}"
                  onerror="this.closest('.imgPrimary').style.display='none';" />
              </div>

              <div class="secondaryRow">
                ${isEmpty(s.img2) ? "" : `
                  <div class="imgSmall" data-zoom="${s.img2}">
                    <img src="${s.img2}" alt="Extra image ${s.n}"
                      onerror="this.closest('.imgSmall').style.display='none';" />
                  </div>
                `}

                ${isEmpty(s.vid) ? "" : `
                  <div class="videoBox">
                    <video id="vid" src="${s.vid}"></video>
                    <div class="vcontrols">
                      <button class="vbtn" data-a="play">Play</button>
                      <button class="vbtn alt" data-a="pause">Pause</button>
                      <button class="vbtn alt" data-a="ff">+10s</button>
                      <button class="vbtn alt" data-a="stop">Stop</button>
                      <div class="vvol">
                        <button class="vbtn alt" data-a="mute">Mute</button>
                        <input type="range" min="0" max="1" step="0.05" value="1" data-role="vol">
                      </div>
                    </div>
                  </div>
                `}
              </div>
            </div>
          </div>
        </div>
      </div>
    `;

    countEl.textContent = `Slide ${s.n} Â· (Deck ${idx+1} of ${slides.length})`;
    prevBtn.disabled = (idx === 0);

    wireJumpDropdown();
    wireImageZoom();
    wireVideoControls();
  }

  function wireJumpDropdown(){
    const sel = document.getElementById("jumpSelect");
    if(!sel) return;
    sel.addEventListener("change", ()=>{
      const n = parseInt(sel.value, 10);
      if(Number.isFinite(n)) goToSlideNumber(n);
    });
  }

  function goPrev(){
    if(idx > 0){
      idx--;
      render();
    }
  }

  function goNext(){
    if(idx < slides.length - 1){
      idx++;
      render();
    } else {
      window.location.href = NEXT_DECK_URL;
    }
  }

  prevBtn.addEventListener("click", goPrev);
  nextBtn.addEventListener("click", goNext);

  document.addEventListener("keydown", (e)=>{
    if(e.key === "ArrowLeft") goPrev();
    if(e.key === "ArrowRight") goNext();
    if(e.key === "Escape" && lightbox.classList.contains("open")) closeLightbox();
  });

  // Swipe (anywhere)
  let startX = null;
  let startY = null;

  document.addEventListener("touchstart", (e)=>{
    if(e.touches.length !== 1) return;
    startX = e.touches[0].clientX;
    startY = e.touches[0].clientY;
  }, {passive:true});

  document.addEventListener("touchmove", (e)=>{
    if(startX === null || startY === null) return;
    const dx = e.touches[0].clientX - startX;
    const dy = e.touches[0].clientY - startY;
    if(Math.abs(dx) > Math.abs(dy)) e.preventDefault();
  }, {passive:false});

  document.addEventListener("touchend", (e)=>{
    if(startX === null || startY === null) return;
    const dx = e.changedTouches[0].clientX - startX;
    const dy = e.changedTouches[0].clientY - startY;
    const threshold = 60;

    if(Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > threshold){
      if(dx > 0) goPrev();   // swipe right = previous
      else goNext();         // swipe left = next
    }
    startX = null; startY = null;
  }, {passive:false});

  // Lightbox
  function openLightbox(url){
    lightboxImg.src = url;
    lightbox.classList.add("open");
    lightbox.setAttribute("aria-hidden","false");
  }
  function closeLightbox(){
    lightbox.classList.remove("open");
    lightbox.setAttribute("aria-hidden","true");
    lightboxImg.src = "";
  }
  lightboxClose.addEventListener("click", closeLightbox);
  lightbox.addEventListener("click", (e)=>{ if(e.target === lightbox) closeLightbox(); });

  function wireImageZoom(){
    document.querySelectorAll("[data-zoom]").forEach(el=>{
      el.addEventListener("click", ()=>{
        const url = el.getAttribute("data-zoom");
        if(url && !isEmpty(url)) openLightbox(url);
      });
    });
  }

  function wireVideoControls(){
    const v = document.getElementById("vid");
    if(!v) return;

    const btns = document.querySelectorAll(".vbtn");
    const vol = document.querySelector("[data-role='vol']");
    let muteBtn = null;

    btns.forEach(b=>{
      b.addEventListener("click", ()=>{
        const a = b.getAttribute("data-a");
        if(a === "play") v.play();
        if(a === "pause") v.pause();
        if(a === "stop"){ v.pause(); v.currentTime = 0; }
        if(a === "ff"){ v.currentTime = Math.min(v.currentTime + 10, v.duration || v.currentTime + 10); }
        if(a === "mute"){
          v.muted = !v.muted;
          b.textContent = v.muted ? "Unmute" : "Mute";
          muteBtn = b;
        }
      });
    });

    if(vol){
      vol.addEventListener("input", ()=>{
        v.volume = parseFloat(vol.value);
        if(v.volume > 0 && v.muted){
          v.muted = false;
          const mb = muteBtn || document.querySelector(".vbtn[data-a='mute']");
          if(mb) mb.textContent = "Mute";
        }
      });
    }
  }

  // Support index.html?start=#
  function applyStartParam(){
    const p = new URLSearchParams(window.location.search);
    const start = parseInt(p.get("start") || "", 10);
    if(Number.isFinite(start) && start >= 1 && start <= 10){
      idx = start - 1;
    }
  }

  applyStartParam();
  render();
</script>
</body>
</html>
